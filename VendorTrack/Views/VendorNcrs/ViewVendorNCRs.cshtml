@using VendorTrack.Models.DTOs
@model IEnumerable<VendorNcrDTO>

<link href="~/css/Custom.css" rel="stylesheet" />
<div class="card shadow-sm">
	<div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
		<h6 class="mb-0">
			<i class="bi bi-table me-2"></i> Vendor NCR List
		</h6>
		<span class="badge bg-light text-dark">@Model.Count()</span>
	</div>

	<div class="card-body p-0">
		<div class="table-responsive">
			<table class="table table-hover table-bordered align-middle mb-0">
				<thead class="table-light">
					<tr>
						<th>NCR Number</th>
						<th>Part Number</th>
						<th>Fault</th>
						<th>Received Date</th>
						<th>Received Qty</th>
						<th>NC Qty</th>
						<th>Vendor</th>
						<th>Contact</th>
						<th>Email</th>
						<th class="text-center">Actions</th>
					</tr>
				</thead>
				<tbody>

					@foreach (var ncr in Model)
					{
						<tr>
							<td>@ncr.NcrNumber</td>
							<td>@ncr.PartNumber</td>
							<td>@ncr.FaultDescription</td>
							<td>@ncr.ReceivedDate.ToString("dd-MMM-yyyy")</td>
							<td>@ncr.ReceivedQuantity</td>
							<td>@ncr.NonConformingQuantity</td>
							<td>@ncr.VendorName</td>
							<td>@ncr.ContactName</td>
							<td>@ncr.ContactEmail</td>
							<td class="d-flex justify-content-between">
								<button class="btn btn-sm btn-outline-primary update">
									<i class="bi bi-pencil"></i>
								</button>
								<button class="btn btn-sm btn-outline-danger delete" onclick="return confirm('Are you sure, want to delete?');">
									<i class="bi bi-trash"></i>
								</button>
								<input id="hid_NcrId" type="hidden" value="@ncr.VendorNcrId" />
							</td>
						</tr>
					}

				</tbody>
			</table>
		</div>
	</div>

	<div class="card-footer text-muted small">
		Showing @Model.Count() records
	</div>
</div>

@section Scripts {
	<script>
		sessionStorage.clear();
	</script>
	<script src="~/js/NCR-Manager.js"></script>

}
